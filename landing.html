<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Memoir — Home</title>

  <link rel="stylesheet" href="/styles.css"/>

  <style>
    :root{
      --bg:#f6f1ea;           /* warm cream */
      --card:#fffaf5;
      --ink:#3b2f2a;          /* dark brown */
      --muted:#7b6a62;
      --accent:#8c5a3c;       /* vintage brown */
      --accent2:#b17d55;
      --radius:18px;
      --shadow:0 18px 40px rgba(59,47,42,.10), 0 2px 8px rgba(59,47,42,.06);
    }
    body{background:var(--bg); color:var(--ink); margin:0; font-family: ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;}

    .container{max-width:1200px; margin:0 auto; padding:20px 16px 28px;}

    /* Top grid: image left, content right */
    .hero-shell{
      display:grid; grid-template-columns: 1.05fr .95fr; gap:22px; align-items:stretch;
    }
    @media (max-width: 980px){
      .hero-shell{grid-template-columns: 1fr;}
    }

    .hero-img{
      background:var(--card);
      border:1px solid rgba(0,0,0,.06);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      overflow:hidden;
    }
    .hero-img img{display:block; width:100%; height:100%; object-fit:cover;}

    .card{
      background:var(--card);
      border:1px solid rgba(0,0,0,.08);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:18px;
    }

    .hero-card .eyebrow{font-size:12px; letter-spacing:.12em; text-transform:uppercase; color:var(--muted); margin-bottom:6px}
    .h1{font-size:clamp(30px, 3.6vw, 48px); line-height:1.08; margin:8px 0 12px; letter-spacing:.2px;}
    .gradient{background:linear-gradient(90deg, var(--accent), var(--accent2)); -webkit-background-clip:text; background-clip:text; color:transparent;}
    .muted{color:var(--muted)}
    .spacer-10{height:10px}

    /* Right column below the hero card: two action cards stacked */
    .actions-stack{display:grid; grid-template-columns:1fr; gap:16px; margin-top:16px}

    .label{font-size:12px; letter-spacing:.12em; text-transform:uppercase; color:var(--muted); margin-bottom:6px}
    .row{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
    .btn{display:inline-flex; align-items:center; justify-content:center; gap:8px; padding:12px 16px; border-radius:999px; border:1px solid rgba(0,0,0,.12); background:#fff; color:var(--ink); text-decoration:none; font-weight:700}
    .btn.primary{background:linear-gradient(90deg, var(--accent), var(--accent2)); color:#fff; border:0;}

    /* Features & lower sections */
    .features{display:grid; grid-template-columns:repeat(3, 1fr); gap:16px; margin-top:22px}
    @media (max-width: 960px){ .features{grid-template-columns:1fr} }

    .grid-2{display:grid; grid-template-columns:1fr 1fr; gap:16px; margin-top:16px}
    @media (max-width: 960px){ .grid-2{grid-template-columns:1fr} }

    .section-title{font-size:18px; font-weight:800; margin:6px 0 10px}
    .faq .faq-item + .faq-item{margin-top:12px}
    .faq h4{margin:0 0 4px}

    /* Prevent header CLS while partial loads */
    #site-header:empty{min-height:68px; display:block}
  </style>
</head>
<body>
  <!-- Shared header slot -->
  <div id="site-header"></div>

  <main class="container">
    <!-- IMAGE LEFT / CONTENT RIGHT -->
    <section class="hero-shell">
      <!-- Left: big image -->
      <div class="hero-img">
        <img src="/assets/book-1.jpg" alt="Open memory book">
      </div>

      <!-- Right: hero + two stacked action cards -->
      <div>
        <div class="card hero-card">
          <div class="eyebrow" data-i18n="brandEyebrow">MEMOIR APP</div>
          <h1 class="h1">
            <span class="gradient" data-i18n="heroTitleA">Preserve Your</span><br/>
            <span data-i18n="heroTitleB">Memories Forever</span>
          </h1>
          <p class="muted" style="max-width:60ch" data-i18n="heroBlurb">
            Record once, keep for generations. Start a recording in one tap, add a title and “when it happened”, then share safely with your family.
          </p>
          <!-- (INTENTIONALLY NO chip CTA row here per your request) -->
        </div>

        <!-- Two frames stacked (desktop: to the right of image; mobile: below image) -->
        <div class="actions-stack">
          <!-- Start Recording -->
          <div class="card">
            <div class="label" data-i18n="startRecording">Start Recording</div>
            <h3 style="margin:6px 0 8px" data-i18n="startRecording">Start Recording</h3>
            <p class="muted" data-i18n="startCopy">
              One tap to begin. Add a title and “when it happened” later.
            </p>
            <div class="row">
              <a class="btn primary" href="/record.html" data-i18n="startRecording">Start Recording</a>
            </div>
          </div>

          <!-- View My Stories -->
          <div class="card">
            <div class="label" data-i18n="viewStories">View My Stories</div>
            <h3 style="margin:6px 0 8px" data-i18n="viewStories">View My Stories</h3>
            <p class="muted" data-i18n="viewCopy">
              Browse, rewrite with AI, export, and share with your family.
            </p>
            <div class="row">
              <a class="btn" href="/stories.html" data-i18n="viewStories">My Stories</a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Features -->
    <section class="features">
      <div class="card">
        <h3 class="section-title" data-i18n="feat1Title">Smart Transcription</h3>
        <p class="muted" data-i18n="feat1Copy">AI-powered voice-to-text conversion.</p>
      </div>
      <div class="card">
        <h3 class="section-title" data-i18n="feat2Title">Multi-language Support</h3>
        <p class="muted" data-i18n="feat2Copy">Record and transcribe in multiple languages.</p>
      </div>
      <div class="card">
        <h3 class="section-title" data-i18n="feat3Title">Private Library</h3>
        <p class="muted" data-i18n="feat3Copy">Organize and share securely with your family.</p>
      </div>
    </section>

    <!-- Pricing + FAQ -->
    <section class="grid-2">
      <div class="card">
        <h3 class="section-title" data-i18n="pricing">Pricing</h3>
        <ul class="muted" style="margin:0 0 12px 18px">
          <li><strong data-i18n="planPremium">Premium</strong> — <span data-i18n="pricePremium">€4.99/month</span></li>
          <li><strong data-i18n="planFamily">Family</strong> — <span data-i18n="priceFamily">€7.99/month</span> <span class="muted" data-i18n="familyNote">(up to 4 read-only family members)</span></li>
        </ul>
        <a class="btn" href="/api/checkout" data-i18n="upgrade">Upgrade</a>
      </div>

      <div class="card faq">
        <h3 class="section-title" data-i18n="faq">FAQ</h3>

        <div class="faq-item">
          <h4 data-i18n="qFree">Is there a free plan?</h4>
          <p class="muted" data-i18n="aFree">Yes, you can try the app for free before upgrading.</p>
        </div>

        <div class="faq-item">
          <h4 data-i18n="qLangs">Which languages are supported?</h4>
          <p class="muted" data-i18n="aLangs">English, Français, Nederlands, Español (more coming).</p>
        </div>

        <div class="faq-item">
          <h4 data-i18n="qTransc">How is transcription done?</h4>
          <p class="muted" data-i18n="aTransc">Server-side Whisper for high accuracy; works offline then syncs later.</p>
        </div>
      </div>
    </section>
  </main>

  <!-- Shared footer -->
  <div id="site-footer"></div>

  <!-- Scripts: lang first, then header loader (so header starts with correct locale) -->
  <script src="/js/lang.js" defer></script>
  <script src="/js/header-loader.js" defer></script>

  <script>
    // Localize landing content using lang.js (strings in MEMOIR_I18N.strings)
    function applyLanding(code){
      const t = (window.MEMOIR_I18N?.strings?.[code]) || window.MEMOIR_I18N.strings.en;

      const setText = (key, sel) => {
        const el = document.querySelector(sel);
        if (el && t[key]) el.textContent = t[key];
      };

      setText('brandEyebrow', '[data-i18n="brandEyebrow"]');
      setText('heroTitleA',    '[data-i18n="heroTitleA"]');
      setText('heroTitleB',    '[data-i18n="heroTitleB"]');
      setText('heroBlurb',     '[data-i18n="heroBlurb"]');

      // Action cards
      document.querySelectorAll('[data-i18n="startRecording"]').forEach(n => n.textContent = t.startRecording);
      document.querySelectorAll('[data-i18n="viewStories"]').forEach(n => n.textContent = t.viewStories);
      setText('startCopy',     '[data-i18n="startCopy"]');
      setText('viewCopy',      '[data-i18n="viewCopy"]');

      // Features
      setText('feat1Title',    '[data-i18n="feat1Title"]');
      setText('feat1Copy',     '[data-i18n="feat1Copy"]');
      setText('feat2Title',    '[data-i18n="feat2Title"]');
      setText('feat2Copy',     '[data-i18n="feat2Copy"]');
      setText('feat3Title',    '[data-i18n="feat3Title"]');
      setText('feat3Copy',     '[data-i18n="feat3Copy"]');

      // Pricing & FAQ
      setText('pricing',       '[data-i18n="pricing"]');
      setText('planPremium',   '[data-i18n="planPremium"]');
      setText('pricePremium',  '[data-i18n="pricePremium"]');
      setText('planFamily',    '[data-i18n="planFamily"]');
      setText('priceFamily',   '[data-i18n="priceFamily"]');
      setText('familyNote',    '[data-i18n="familyNote"]');
      setText('upgrade',       '[data-i18n="upgrade"]');

      setText('faq',           '[data-i18n="faq"]');
      setText('qFree',         '[data-i18n="qFree"]');
      setText('aFree',         '[data-i18n="aFree"]');
      setText('qLangs',        '[data-i18n="qLangs"]');
      setText('aLangs',        '[data-i18n="aLangs"]');
      setText('qTransc',       '[data-i18n="qTransc"]');
      setText('aTransc',       '[data-i18n="aTransc"]');
    }

    window.addEventListener('memoir:lang', e => applyLanding(e.detail.code));
    document.addEventListener('DOMContentLoaded', () => {
      applyLanding(window.MEMOIR_I18N?.getLang?.() || 'en');
    });
  </script>
</body>
</html>
