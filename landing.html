<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Memoir — Home</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <div id="site-header"></div>

  <main class="container">
    <!-- HERO -->
    <section class="hero-grid">
      <div class="hero-img"><img src="/assets/book-1.jpg" alt="Open book"></div>

      <div class="card hero-card">
        <div class="label">MEMOIR APP</div>
        <h1 class="h1">
          <span id="heroA">Preserve Your</span>
          <span id="heroB" class="line2 gradient">Memories Forever</span>
        </h1>
        <p id="heroBlurb" class="muted no-clamp">…</p>

        <!-- Bigger action cards (side-by-side) -->
        <div class="hero-actions">
          <div class="mini-card">
            <div class="label" id="actionStartTitle">Start Recording</div>
            <p id="actionStartBody" class="no-clamp">One tap to begin…</p>
            <a class="btn primary" href="/record.html" id="ctaStart">Start Recording</a>
          </div>
          <div class="mini-card">
            <div class="label" id="actionStoriesTitle">View My Stories</div>
            <p id="actionStoriesBody" class="no-clamp">Browse, rewrite with AI…</p>
            <a class="btn" href="/stories.html" id="ctaStories">My Stories</a>
          </div>
        </div>
      </div>
    </section>

    <!-- FEATURES -->
    <h2 class="section-title" id="whyTitle">Why Memoir</h2>
    <section class="features">
      <div class="card">
        <h3 id="feat1T">Capture in one tap</h3>
        <p id="feat1B" class="no-clamp">…</p>
      </div>
      <div class="card">
        <h3 id="feat2T">Ready for a family book</h3>
        <p id="feat2B" class="no-clamp">…</p>
      </div>
      <div class="card">
        <h3 id="feat3T">Private by default</h3>
        <p id="feat3B" class="no-clamp">…</p>
      </div>
    </section>

    <!-- PRICING (one big frame that holds 4 plans) -->
    <section class="pricing-wrap">
      <h2 class="section-title" id="pricingTitle">Pricing</h2>
      <div class="pricing-board">
        <div class="plan-grid">
          <div class="plan">
            <h4 id="planFreeT">Free</h4>
            <div class="price" id="planFreePrice">€0</div>
            <ul id="planFreeList"></ul>
          </div>

          <div class="plan">
            <h4 id="planPremiumT">Premium — €4.99/month</h4>
            <div class="price" id="planPremiumPrice">€4.99 / mo</div>
            <ul id="planPremiumList"></ul>
          </div>

          <div class="plan">
            <h4 id="planFamilyT">Family — €7.99/month</h4>
            <div class="price" id="planFamilyPrice">€7.99 / mo</div>
            <ul id="planFamilyList"></ul>
          </div>

          <div class="plan">
            <h4 id="planExclusiveT">Exclusive — €11.99/month</h4>
            <div class="price" id="planExclusivePrice">€11.99 / mo</div>
            <ul id="planExclusiveList"></ul>
          </div>
        </div>

        <div style="margin-top:12px">
          <a id="btnUpgradeTop" class="btn primary" href="/checkout.html">Upgrade</a>
        </div>
      </div>
    </section>
  </main>

  <div id="site-footer"></div>

  <!-- Scripts: lang BEFORE header-loader -->
  <script src="/js/lang.js" defer></script>
  <script src="/js/header-loader.js" defer></script>
  <script>
    function fillList(ul, arr){ ul.innerHTML = arr.map(x=>`<li>${x}</li>`).join(''); }

    function applyLanding(code){
      const t = (window.MEMOIR_I18N?.strings?.[code]) || window.MEMOIR_I18N.strings.en;
      heroA.textContent = t.heroA;
      heroB.textContent = t.heroB;
      heroBlurb.textContent = t.heroBlurb;

      actionStartTitle.textContent = t.actionStartTitle;
      actionStartBody.textContent  = t.actionStartBody;
      actionStoriesTitle.textContent = t.actionStoriesTitle;
      actionStoriesBody.textContent  = t.actionStoriesBody;
      ctaStart.textContent = t.actionStartTitle;
      ctaStories.textContent = t.myStories || "My Stories";

      whyTitle.textContent = "Why Memoir"; // short section title stays English-like in all locales or set per-locale if desired
      feat1T.textContent = t.feat1T; feat1B.textContent = t.feat1B;
      feat2T.textContent = t.feat2T; feat2B.textContent = t.feat2B;
      feat3T.textContent = t.feat3T; feat3B.textContent = t.feat3B;

      pricingTitle.textContent = t.pricingTitle;
      planFreeT.textContent = t.planFreeT; planFreePrice.textContent = t.planFreePrice; fillList(planFreeList, t.planFreeList);
      planPremiumT.textContent = t.planPremiumT; planPremiumPrice.textContent = t.planPremiumPrice; fillList(planPremiumList, t.planPremiumList);
      planFamilyT.textContent = t.planFamilyT; planFamilyPrice.textContent = t.planFamilyPrice; fillList(planFamilyList, t.planFamilyList);
      planExclusiveT.textContent = t.planExclusiveT; planExclusivePrice.textContent = t.planExclusivePrice; fillList(planExclusiveList, t.planExclusiveList);
      btnUpgradeTop.textContent = t.upgrade;
    }

    window.addEventListener('memoir:lang', e => applyLanding(e.detail.code));
    document.addEventListener('DOMContentLoaded', () => applyLanding(window.MEMOIR_I18N?.getLang?.() || 'en'));
  </script>
</body>
</html>
